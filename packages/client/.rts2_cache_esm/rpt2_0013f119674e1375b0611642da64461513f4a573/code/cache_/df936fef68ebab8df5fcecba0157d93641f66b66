{"code":"import axios from 'axios';\r\nimport teams from '@nhl-api/teams';\r\nimport players from '@nhl-api/players';\r\nexport const api = axios.create({\r\n    baseURL: 'https://statsapi.web.nhl.com/api/v1',\r\n});\r\nexport const throwError = (fn, msg, err) => {\r\n    throw new Error(`[NHL API]: ${fn}(): ${msg ? msg : err}`);\r\n};\r\nexport const getId = (resource, name) => {\r\n    const data = resource.filter((res) => res.name.includes(name.toUpperCase()) ||\r\n        res.nicknames.some((nickname) => nickname === name.toUpperCase()));\r\n    if (!data.length) {\r\n        const fnName = resource === teams ? 'getTeams' : 'getPlayer';\r\n        throwError(fnName, `'${name}' not found, please try another search.\\nIf you're searching by nickname, make sure it's exact.\\nIf you think this is a bug, please open an issue: https://github.com/gretzky/nhl-api/issues`);\r\n    }\r\n    if (data.length === 1) {\r\n        return data[0].id;\r\n    }\r\n    return data;\r\n};\r\nconst parseData = (res) => {\r\n    if (Array.isArray(res) && res.length === 1) {\r\n        return res[0];\r\n    }\r\n    return res;\r\n};\r\nexport const handleUrl = (res, options) => {\r\n    if ((options && options.id) || (options && options.name)) {\r\n        return `/${res}/${options.name\r\n            ? getId(res === 'people' ? players : teams, options.name)\r\n            : options.id}`;\r\n    }\r\n    return `/${res}`;\r\n};\r\nexport const handleData = (res, data) => {\r\n    if (data.roster) {\r\n        return parseData(data.roster);\r\n    }\r\n    else if (data.stats) {\r\n        return parseData(data.stats);\r\n    }\r\n    else if (data.dates) {\r\n        return parseData(data.dates);\r\n    }\r\n    else if (data.records) {\r\n        return parseData(data.records);\r\n    }\r\n    else if (data[res]) {\r\n        return parseData(data[res]);\r\n    }\r\n    else if (data.drafts) {\r\n        return parseData(data.drafts);\r\n    }\r\n    else if (data.prospects) {\r\n        return parseData(data.prospects);\r\n    }\r\n    else {\r\n        delete data.copyright;\r\n        return data;\r\n    }\r\n};\r\nexport async function get(url, options) {\r\n    try {\r\n        const response = await api\r\n            .get(url, options\r\n            ? {\r\n                params: {\r\n                    ...options,\r\n                },\r\n            }\r\n            : null)\r\n            .then((response) => response.data);\r\n        return Promise.resolve(response);\r\n    }\r\n    catch (err) {\r\n        return err;\r\n    }\r\n}\r\n//# sourceMappingURL=index.js.map","references":["/Users/sarapope/dev/nhl-api2/node_modules/axios/index.d.ts","/Users/sarapope/dev/nhl-api2/packages/teams/dist/index.d.ts","/Users/sarapope/dev/nhl-api2/packages/players/dist/index.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/util/index.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/sarapope/dev/nhl-api2/packages/client/src/util/index.d.ts","writeByteOrderMark":false,"text":"export declare type RequireAtLeastOne<T, Keys extends keyof T = keyof T> = Pick<T, Exclude<keyof T, Keys>> & {\r\n    [K in Keys]-?: Required<Pick<T, K>> & Partial<Pick<T, Exclude<Keys, K>>>;\r\n}[Keys];\r\nexport declare type BaseOptions = {\r\n    id?: number | string;\r\n};\r\nexport declare type Options = BaseOptions & {\r\n    name?: string;\r\n    season?: number | string;\r\n    stats?: string;\r\n    expand?: string;\r\n    year?: string | number;\r\n    type?: string;\r\n    team?: any;\r\n    startDate?: string;\r\n    endDate?: string;\r\n    date?: string;\r\n};\r\nexport declare type OptionsWithId = RequireAtLeastOne<Options, 'id' | 'name'>;\r\nexport declare const api: import(\"axios\").AxiosInstance;\r\nexport declare const throwError: (fn: string, msg?: string | undefined, err?: Error | undefined) => void;\r\nexport declare const getId: (resource: any, name: string) => number | any[];\r\nexport declare const handleUrl: (res: string, options?: Options | undefined) => string;\r\nexport declare const handleData: (res: string, data: any) => any;\r\nexport declare function get(url: string, options?: any): Promise<void>;\r\n"}}
